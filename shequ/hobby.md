# 活动 hobby

活动通常所有用户和组织均可以发布活动可以让社区所在的用户进行报名签到参与。


### 业务场景：发布

1. 所有用户均可以发布活动
2. 普通用户发布活动，需要小区管理员审核
3. 其他组织发布活动，需要直接上级组织进行审核
4. 发布时需要选择活动类型
   * 活动类型（共二级分类，可以自定义）
5. 选项开关是否支持：留言/签到（线下一次性）/打卡（线上周期性）/报名是否审核/
   * 还有更多活动功能（TODO）
6. 活动形式：
   * 普通活动
   * 付费活动
   * 志愿活动
      * 只有认证的志愿者才能参与或发布志愿活动
      * 参与活动可以获得[志愿时长](志愿积分可以花费，志愿时长可以积累)
      * [志愿等级]是根据[志愿时长]划分（1志愿时长=60积分）
   * 志愿项目
      * 只有认证的志愿者才能参与或发布志愿项目
      * 长期进行的周期性的志愿活动，无明确结束时间

### 业务场景：查看

1. `[活动列表]`用户活动列表页面，显示多个组织发布在本小区的活动
    * 按最近发布活动的时间排序
    * 按报名最多活动的时间排序
    * 按离我最近活动的时间排序
    * 按马上截止活动的时间排序
    * 显示状态：审核中，已通过，未通过（可显示未通过原因），已关闭，已结束，已签到，已报名，已取消
    * 可以根据活动的人数、费用区间、活动类型、活动开始时间进行筛选
    * 点击单个活动，进入该活动详情
    * `[公共组件-全局搜索]`可以通过活动标题和内容进行全局搜索
    * 下级组织可以查看上级组织发布的所有活动
2. `[活动推荐]`小区首页，可以显示指定活动类型的模块
    * 最新推荐活动
       * 固定显示4条(查询优先级：推荐，热门报名人数，发布时间)
       * 支持推荐活动手动排序，按照推荐活动的时间倒序
       * 活动结束后推荐自动取消
3. `[活动详情]`包含主要内容：
    * 标题
    * 图片
    * 查看、收藏数量
    * 活动说明：开始时间，结束时间，报名截止时间，活动地点，活动分类
    * 活动详情（支持富文本）
    * 支持分享、报名功能、收藏、点赞
    * 如果已关闭显示关闭原因
4. 活动发布后：可进行留言
5. 活动签到后（没有签到的，活动结束后）：可进行评价，可进行五星打分
6. 参加活动如选择需要签到：发布者生成签到码，用户直接微信扫码
7. `[公共组件-评论]`留言和评价支持图文，留言支持点赞和回复
8. 可查看自己发布/已参加/已收藏/点赞的活动（包含统计数据）
9. `[活动列表-已报名]`用户活动列表页面
   * 可以取消报名
   * 功能：签到，补签（活动结束后可以进行补签-图文补签理由和证明图片，同时报名者签到，发布者负责审核）
   * 显示状态：已关闭，已结束，已签到，已补签，已报名，已取消
10.`[活动列表-已发布]`当前用户已发布的活动（移动端）
   * 功能：获取当前活动签到码（小程序二维码，用户微信扫码签到），用户补签审核（通过/不通过）


### 业务场景：管理

1. 后端业务管理员页面，显示所有发布的活动
2. 查看下级单位发布的活动，可审核/编辑/关闭（默认：自动通过审核）
3. 查看和导出所发活动的参与人员情况，浏览人次统计
   * 点击后阅读/报名/留言/评价/收藏/点赞/签到 数量
   * 活动发起人小程序端填写邮箱接收报名表，管理端可直接下载
4. `[公共组件]`两级活动分类标签树（可以新增和关闭）：活动大类、活动小类
5. 发布者可以关闭自己的活动
   * 活动时间未结束关闭时需要添加备注
   * 向已报名/已收藏的活动成员推送消息（使用小程序消息模板）
6. 可选择已认证的组织是否自动通过审核
7. 可选择已认证的居民是否自动通过审核 
8. 志愿积分
   * 社区管理员设置积分预算
   * 社区给下属志愿组织分配预算
   * 下属志愿组织成员可发起积分活动需要志愿组织管理员审核

### 代码实现说明

##### 数据表、字段

##### 表单组件

##### 显示组件

##### 管理组件
